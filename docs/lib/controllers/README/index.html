<h1>zUIx components library</h1>
<p>This folder contains a collection of <strong>framework agnostic UI controllers</strong>.</p>
<p>Either you are using plain HTML or an UI framework
(eg. Bootstrap, Material Design Lite, ..) these controllers will work.</p>
<h2>kit/controllers</h2>
<h4>scroll_helper</h4>
<p>This component will trigger the following events when attached to a
scrollable view:</p>
<ul>
<li><em>scrollHelper</em> <strong>-&gt;</strong> <em>moving</em></li>
<li><em>scrollHelper</em> <strong>-&gt;</strong> <em>hitTop</em></li>
<li><em>scrollHelper</em> <strong>-&gt;</strong> <em>hitBottom</em></li>
</ul>
<p>Can also be loaded as an additional controller for other components
(eg. a list_view):</p>
<p>Example:</p>
<pre><code class="javascript">zuix.load(<span class="hljs-string">'kit/controllers/scroll_helper'</span>, {
    <span class="hljs-attr">view</span>: myLvScroll.view(),
    <span class="hljs-attr">on</span>: {
        <span class="hljs-string">'scroll:change'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e, data</span>) </span>{
            <span class="hljs-keyword">switch</span> (data.event) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">'moving'</span>:
                    hideFooter();
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'hitTop'</span>:
                    showFooter();
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'hitBottom'</span>:
                    showFooter();
                    <span class="hljs-keyword">break</span>;
            }
        }
    }
});
</code></pre>
<p>// TODO: document method 'watch(&lt;selector_of_elements_to_watch&gt;)'
// TODO: document watch events: 'enter', 'exit', 'off-scroll', 'scroll'</p>
<h4>list_view</h4>
<p>A lazy-loadable list view component supporting <em>paged</em>, <em>incremental</em> and
<em>full</em> list modes.</p>
<p>Each item in the list can be displayed using a different component/template
(similar concept to heterogeneous view adapters in Android's list/recycler view).</p>
<p>An example using the <code>list_view</code> control is the Hacker News Reader:</p>
<p>https://github.com/g-labs-sw/zuix-hackernews</p>
<p>To include this control in your page use:</p>
<pre><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">data-ui-load</span>=<span class="hljs-string">"@lib/controllers/list_view"</span>
     <span class="hljs-attr">data-ui-options</span>=<span class="hljs-string">"my_lv_options"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>Example javascript code for <code>my_lv_options</code>:</p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> my_lv_options = {
    <span class="hljs-attr">ready</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">listView</span>)</span>{
        listView = ctx;
        <span class="hljs-comment">// set list mode to 'paged' and number of items per page</span>
        listView.config({
            <span class="hljs-attr">listMode</span>: <span class="hljs-string">'paged'</span>,
            <span class="hljs-attr">itemsPerPage</span>: <span class="hljs-number">30</span>
        });
        <span class="hljs-comment">// listen to the listView 'status' event</span>
        <span class="hljs-comment">// this event gets called when an item is loaded</span>
        <span class="hljs-comment">// or page is changed</span>
        listView.on(<span class="hljs-string">'status'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e, status</span>) </span>{
            <span class="hljs-built_in">console</span>.log(status.page.current,
                    status.page.count,
                    status.items.loaded,
                    status.items.count);
        });
        <span class="hljs-comment">// pass the data model to the component</span>
        listView.model({
            <span class="hljs-attr">itemList</span>: myItemsList,
            <span class="hljs-comment">// this method is called by the `list_view`</span>
            <span class="hljs-comment">// when an item is about to be loaded</span>
            getItem: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">index, item</span>) </span>{
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-comment">// Unique identifier for this item.</span>
                    itemId: index,
                    <span class="hljs-comment">// Display item using "my_components/card_item" component.</span>
                    componentId: <span class="hljs-string">'my_components/card_item'</span>,
                    <span class="hljs-comment">// Component options.</span>
                    options: {
                        <span class="hljs-comment">// Set the item model's data.</span>
                        model: { <span class="hljs-attr">index</span>: index, <span class="hljs-attr">data</span>: item },
                        <span class="hljs-comment">// Do not check for item's model updates</span>
                        <span class="hljs-comment">// if it does not change once created.</span>
                        <span class="hljs-keyword">static</span>: <span class="hljs-literal">true</span>,
                        <span class="hljs-comment">// Load the component only when</span>
                        <span class="hljs-comment">// it's about to come into the user's screen view</span>
                        lazyLoad: <span class="hljs-literal">true</span>,
                        <span class="hljs-comment">// The min-height of the item container</span>
                        <span class="hljs-comment">// should be specified before the component</span>
                        <span class="hljs-comment">// is loaded in order to prevent list resize</span>
                        <span class="hljs-comment">// flickering after lazy-loading an item.</span>
                        <span class="hljs-comment">// So we either define a responsive 'className'</span>
                        <span class="hljs-comment">// or a fixed 'height' property.</span>
                        className: <span class="hljs-string">'list-item'</span>,
                        <span class="hljs-comment">//height: '48px',</span>
                        <span class="hljs-comment">// Event handlers that the `card_item` component</span>
                        <span class="hljs-comment">// may trigger.</span>
                        on: {
                            <span class="hljs-string">'item:enter'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e, item</span>) </span>{
                                item.view.addClass(<span class="hljs-string">'active'</span>);
                            },
                            <span class="hljs-string">'item:leave'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e, item</span>) </span>{
                                item.view.removeClass(<span class="hljs-string">'active'</span>);
                            }
                            <span class="hljs-comment">// ...</span>
                        },
                        <span class="hljs-attr">ready</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">cardCtx</span>) </span>{
                            <span class="hljs-comment">// ...</span>
                        }
                    }
                }
            }
        });
    }

};
</code></pre>
<p>Methods of the <strong>list_view</strong> component:</p>
<pre><code class="javascript"><span class="hljs-comment">// set configuration options</span>
listView.config({
    <span class="hljs-attr">listMode</span>: <span class="hljs-string">'paged'</span>,
    <span class="hljs-attr">itemsPerPage</span>: <span class="hljs-number">50</span>
});
<span class="hljs-comment">// get status informations (current page, loaded items, etc...)</span>
<span class="hljs-keyword">var</span> info = listView.getStatus();
<span class="hljs-comment">// get current page (used for 'paged' list mode)</span>
<span class="hljs-keyword">var</span> currentPage = listView.page();
<span class="hljs-comment">// set current page</span>
listView.page(<span class="hljs-number">10</span>);
<span class="hljs-comment">// load more items (used for 'incremental' list mode)</span>
listView.more();
<span class="hljs-comment">// list for 'status' event</span>
listView.on(<span class="hljs-string">'status'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">info</span>) </span>{
    <span class="hljs-comment">// ...</span>
});
</code></pre>
<h4>gesture_helper</h4>
<p>// TODO: Document gesture detector for touch/pointer gestures...</p>
<h4>view_pager</h4>
<p>// TODO: Document view pager controller...</p>
