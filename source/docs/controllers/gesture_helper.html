---
title: 'Gesture Helper'
head:
    title: 'zKit: Gesture Helper (lib/controllers)'
    description: 'zKit, a collection of framework-agnostic components for modern web.'
---
{% extends "../_inc/docs_page.html" %}

{% block head_end %}
<script>
    // use 'var' or 'window.' for options (global object)
</script>
{% endblock %}

{% block content_main %}

<div self="size-large center">

    <p>
        Detect tap and swipe gestures over elements.
    </p>

    <div data-ui-load="@lib/controllers/gesture_helper"
         data-ui-options="gesture_opts"
         layout="column center-center"
         class="noselect gesture-box">
        <!-- gesture detection area -->
        Try me!
    </div>
    <script>
        var gesture_opts = {
            ready: function() {
                let gh = this;
                let view = zuix.$(gh.view());
                view.css('opacity', 0.5);
                // register event callbacks
                gh.on('gesture:touch', function(e, tp) {
                    view.css('opacity', 1.0);
                }).on('gesture:pan', function(e, tp) {
                    view.html('pan <small>{ x: '+tp.shiftX+', y: '+tp.shiftY+' } { x: '+tp.x+', y: '+tp.y+' }</small>');
                }).on('gesture:release', function(e, tp) {
                    view.css('opacity', 0.5);
                }).on('gesture:tap', function(e, tp) {
                    view.html('tap');
                }).on('gesture:swipe', function(e, tp) {
                    view.html('swipe '+tp.direction);
                });
            }
        };
    </script>

</div>

<div self="size-large center" layout="columns top-stretch">

    {% include '../_inc/zkit_basic_usage.html' %}

    <h3>2. Load the gesture helper on the target element</h3>
    <p>Add the <code>data-ui-load</code> attribute to the element you want to detect gesture on</p>
<pre><code class="html">&lt;div data-ui-load="@lib/controllers/gesture_helper"
     data-ui-options="gesture_options"&gt;
    <!-- gesture detection area -->
&lt;/div&gt;
<script>
var gesture_options = {
  ready: function() {
    // register event callbacks
    this.on('gesture:touch', function(e, tp) {
      // TODO: handle touch
    }).on('gesture:pan', function(e, tp) {
      // TODO: handle pan
    }).on('gesture:release', function(e, tp) {
      // TODO: handle release
    }).on('gesture:tap', function(e, tp) {
      // TODO: handle tap
    }).on('gesture:swipe', function(e, tp) {
      // TODO: handle swipe
      switch(tp.direction) {
        case 'up':
          break;
        case 'down':
          break;
        case 'left':
          break;
        case 'right':
          break;
      }
    });
  }
}
</script></code></pre>
    <p>
        Callbacks will receive the <code>tp</code> <em>(TouchPointer)</em> argument
    </p>
<pre><code class="js">tp = {
  // time frame
  startTime,
  endTime,
  // initial touch position
  startX,
  startY,
  // relative movement
  shiftX,
  shiftY,
  // actual position and speed
  velocity: 0,
  x: x,
  y: y,
  // original event + cancel method
  event,
  cancel()
};</code></pre>

    <h2>Option attributes</h2>
    <ul>
        <li>
            <code class="option">data-ui-context</code>
            <small>optional</small><br>
            identifier name to be used to reference this component from JavaScript.
        </li>
    </ul>


    <h2>Source code</h2>
    <p>
        Source code is available in the <code>lib/controllers</code> folder of <a href="//github.com/genielabs/zkit">zKit</a> repository.
    </p>
    <div self="size-large">
        <ul class="list">
            <li><a href="//github.com/genielabs/zkit/blob/master/source/lib/controllers/gesture_helper.js">gesture_helper.js</a></li>
        </ul>
    </div>

</div>

{% endblock %}

{% block footer_end %}

{% endblock %}
