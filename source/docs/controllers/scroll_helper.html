---
title: 'Scroll Helper'
head:
    title: 'zKit: Scroll Helper (lib/controllers)'
    description: 'zKit, a collection of framework-agnostic components for modern web.'
layout_width: '1024px'
---
{% include "../../_inc/head_open.html" %}

<style>{% include "scroll_helper.css" %}</style>
<script>{% include "scroll_helper.js" %}</script>

{% include "../../_inc/head_close.html" %}

<body layout="column top-stretch" data-ui-load="@lib/controllers/scroll_helper"
      data-ui-context="scroll-helper"
      data-ui-options="scroll_opts">


    <!-- Parallax Header -->
    <div data-ui-field="parallax-header" self="center" layout="column center-center" class="sh-sky-background max-width--1024">

        <div data-ui-field="arrow-down" class="watch arrow-down">
            <i class="material-icons animated fadeInDown infinite">arrow_downward</i>
        </div>

        <!--"Castle Hills" graphics &copy; craftpix.net -->
        <div self="bottom" layout="column center-center">
            <!--
            <img class="watch sh-parallax" data-translate="0.2" src="{{root}}images/parallax/layer07_Sky.png">
            -->
            <img class="watch sh-parallax" data-translate="0.5" src="{{root}}images/parallax/layer06_Rocks.png">
            <img class="watch sh-parallax" data-translate="0.35" src="{{root}}images/parallax/layer05_Hills.png">
            <img class="watch sh-parallax" data-translate="0.2" src="{{root}}images/parallax/layer04_Clouds.png">
            <img class="watch sh-parallax" data-translate="0.1" src="{{root}}images/parallax/layer03_Hills_Castle.png">
            <img class="watch sh-parallax" data-translate="0.05" src="{{root}}images/parallax/layer02_Trees_rocks.png">
            <img class="max-width--1024 foremost" data-translate="0.2" src="{{root}}images/parallax/layer01_Ground.png"
                 data-ui-field="landscape">
        </div>

    </div>

    <!-- The guy -->
    <div class="watch sh--capguy"><!--<h3>Hello World!</h3> --></div>

    <!-- Content (underground) -->
    <div data-ui-field="underground" layout="column top-center">

        <h1 class="watch sh-title mdl-color-text--green-200">Scroll Helper</h1>

        <div self="size-medium center" layout="columns top-stretch">
            <h3 class="watch mdl-color-text--yellow-200" align="center">
                Handle common UI scroll related tasks.
            </h3>
            <ul class="features">
                <li class="watch">Event notifications for motion, bounds hitting and direction change</li>
                <li class="watch">Watch elements with a callback as they move inside or enter/exit the viewport</li>
                <li class="watch">
                    Reported element position is relative to the viewport
                    and expressed as percentage of its width/height.
                    This allow turning the whole page scroll experience
                    into a synchronized animation storyboard.
                </li>
                <li class="watch">Smooth <code>scrollTo(element|offset)</code> method</li>
            </ul>
        </div>

        <div self="size-large center" layout="columns top-stretch">

            {% include '../_inc/zkit_basic_usage.html' %}

            <h3>2. Load the scroll helper on the target element</h3>
            <p>
                Add the <code>data-ui-load</code> attribute to the element implementing the scroll (usually <code>body</code>
                or a <code>div</code> element)
            </p>

<pre><code class="html">&lt;div data-ui-load="@lib/controllers/scroll_helper"
  data-ui-context="scroll-helper"&gt;
  <!-- scrollable content -->
&lt;/div&gt;</code></pre>




            <h2>Option attributes</h2>
            <ul>
                <li>
                    <code class="option">data-ui-load="@lib/controllers/scroll_helper"</code>
                    <small>constructor</small><br>
                    load the <code>scroll_helper</code> controller on the element.
                </li>
                <li>
                    <code class="option">data-ui-context</code>
                    <small>optional</small><br>
                    identifier name to be used to reference this instance from JavaScript.
                </li>
            </ul>




            <h2>Scripting</h2>
            <h3>Get a reference to the scroll helper object</h3>

<pre><code class="js">var scrollHelper;
// since the component loads asynchronously
// a callback is required to ensure the component is ready
zuix.context('scroll-helper', function() {
  // store a global reference of the
  // component for eventual later use
  scrollHelper = this;
  // scroll to the end of the page
  scrollHelper.scrollEnd();
});</code></pre>

            <h3>Methods</h3>

<pre><code class="js">// scroll to the start of page
scrollHelper.scrollStart( [duration_ms] );
// scroll to the end of page
scrollHelper.scrollEnd( [duration_ms] );
// scroll to element or offset
scrollHelper.scrollTo( element | offset_px );
// get the scroll info object
let info = scrollHelper.info();
// Set elements to be observed
scrollHelper.watch('.watchable', callback);
</code></pre>



            <h3>Event listener</h3>

<pre><code class="js">scrollHelper.on('scroll:change', function(e, data) {
    switch (data.event) {
        case 'hit:top':
            // reached top of page
            break;
        case 'scroll':
            // scrolling...
            break;
        case 'hit:bottom':
            // reached end of page
            break;
    }
});</code></pre>



            <h3>Watching elements</h3>
            <p>
                `// TODO: ...`
            </p>

<pre><code class="js">scrollHelper.watch('div.watch', function(el, data) {
    switch (data.event) {
        case 'enter':
            // element entered the visible area
            break;
        case 'exit':
            // element out of the visible area
            break;
        case 'scroll':
            // element is being scrolled in the visible area
            break;
        case 'off-scroll':
            // element is being scrolled out of the visible area
            break;
    }
});</code></pre>




            <h2>Source code</h2>
            <p>
                Source code is available in the <code>lib/controllers</code> folder of <a href="//github.com/genielabs/zkit">zKit</a> repository.
            </p>
            <div self="size-large">
                <ul class="list">
                    <li><a href="//github.com/genielabs/zkit/blob/master/source/lib/controllers/scroll_helper.js">scroll_helper.js</a></li>
                </ul>
            </div>

        </div>

    </div>

{% include "../../_inc/body_end.html" %}

<!-- Common JS scripts -->
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.12.0/build/styles/androidstudio.min.css">
<script>
    // Escape HTML in 'code' blocks
    document.querySelectorAll("code").forEach(function(element) {
        element.innerHTML = element.innerHTML/*.replace(/&/g, "&amp;")*/.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;");
    });
    // AnimateCSS
    zuix.using('component', '@lib/extensions/animate_css');
    // Code highlighting
    zuix.using('script', '//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.12.0/build/highlight.min.js', function () {
        zuix.$('pre code').each(function(i, block) {
            hljs.highlightBlock(block);
        });
    });
</script>

</body>
</html>